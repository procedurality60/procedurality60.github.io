<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
/* Basic global styling */
body {
  font-family: 'Roboto', sans-serif;
  margin: 0;
  padding: 0;
}

header, main, footer {
  padding: 20px;
}

/* Header styling */
header {
  background: #f3f3f3;
  text-align: center;
}

.site-title {
  margin: 0;
}

/* Main content styling */
.twit-container {
  padding-bottom: 100px; /* Extra padding to prevent fixed footer overlap */
}

.twit-container article {
  border: 1px solid #ddd;
  padding: 10px;
  margin-bottom: 15px;
  display: flex;
  gap: 10px;
}

.twit-icon {
  font-size: 24px;
  color: #888;
}

.twit-content {
  flex-grow: 1;
}

/* Footer styling */
footer {
  background: #f3f3f3;
  text-align: center;
  position: fixed;
  width: 100%;
  bottom: 0;
  left: 0;
  padding: 10px 20px;
  z-index: 1000;
  border-top: 2px solid #ccc; /* Added border for visual emphasis */
}

#create-twit-button {
  background: none;
  border: none;
  font-size: 22px;
  cursor: pointer;
  padding: 5px;
}

/* Modal styling */
#modal-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  display: none;
  z-index: 10;
}

#create-twit-modal {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #fff;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
  display: none;
  width: 300px;
  z-index: 11;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal-body {
  margin-top: 10px;
}

.modal-footer {
  margin-top: 10px;
  text-align: right;
}

.modal-close-button,
.modal-cancel-button,
.modal-accept-button {
  border: none;
  padding: 5px 10px;
  cursor: pointer;
}

.modal-close-button {
  font-size: 18px;
  background: none;
}

.modal-accept-button {
  background-color: #4CAF50;
  color: white;
}

/* Favicon preview container styling */
#favicon-container {
  margin-top: 5px;
  display: none;
}

#favicon-preview {
  width: 64px;
  height: 64px;
}

/* Twit form input styling */
.twit-input-element {
  margin-bottom: 10px;
}

.twit-input-element label {
  display: block;
  margin-bottom: 3px;
}

.twit-input-element input,
.twit-input-element textarea {
  width: 100%;
  padding: 5px;
  box-sizing: border-box;
}
    </style>
    <title>Tweeter</title>
    
    <!-- Roboto font -->
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:100,400,700"
      rel="stylesheet">
    
    <!-- Font Awesome icons -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.13.0/css/all.css"
      crossorigin="anonymous">
    
    <!-- Link to external CSS file -->
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <header>
      <a href="#">
        <h1 class="site-title">
          <i class="far fa-hand-lizard"></i> Links Daily
        </h1>
      </a>
    </header>
    
    <main class="twit-container">
      <article class="twit">

     
        <div class="twit-icon">
          <i class="fas fa-bullhorn"></i>
        </div>
        <div class="twit-content">
          <p class="twit-text">
            Anyone missing baseball?  It'd be fun to be able to watch the Beavs right now!
          </p>
          <p class="twit-author">
            <a href="people.html">@BeaverBeliever</a>
          </p>
        </div>
      </article>

      <article class="twit">
        <div class="twit-icon">
          <i class="fas fa-bullhorn"></i>
        </div>
        <div class="twit-content">
          <p class="twit-text">
            A body in motion must remain in motion unless acted upon by an outside force.
          </p>
          <p class="twit-author">
            <a href="people.html">@NewtonRulez</a>
          </p>
        </div>
      </article>

      <article class="twit">
        <div class="twit-icon">
          <i class="fas fa-bullhorn"></i>
        </div>
        <div class="twit-content">
          <p class="twit-text">
            Guys i think i do not understand a single thing?
          </p>
          <p class="twit-author">
            <a href="people.html">@ConfusedTweeterer</a>
          </p>
        </div>
      </article>

      <article class="twit">
        <div class="twit-icon">
          <i class="fas fa-bullhorn"></i>
        </div>
        <div class="twit-content">
          <p style="color: gray;">Documented reply to @Setup.</p>
          <p class="twit-text">
            To get to the udder side of the road!
          </p>
          <p class="twit-author">
            <a href="people.html">@Punchline</a>
          </p>
        </div>
      </article>

      <article class="twit">
        <div class="twit-icon">
          <i class="fas fa-bullhorn"></i>
        </div>
        <div class="twit-content">
          <p class="twit-text">
            Why did the whole entirety of the chicken bloodline cross the road?
          </p>
          <p class="twit-author">
            <a href="people.html">@Setup</a>
          </p>
        </div>
      </article>

      <article class="twit">
        <div class="twit-icon">
          <i class="fas fa-bullhorn"></i>
        </div>
        <div class="twit-content">
          <p class="twit-text">
            Any other questions about flexboxes because yeah?
          </p>
          <p class="twit-author">
            <a href="people.html">@Hess</a>
          </p>
        </div>
      </article>
    </main>
    
    <!-- Footer with Create Twit Button -->
    <footer>
      <button type="button" id="create-twit-button">⋮☰</button>
    </footer>
    
    <!-- Modal for Creating a Twit -->
    <div id="modal-backdrop"></div>
    <div id="create-twit-modal">
      <div class="modal-header">
        <h3>Create a Twit</h3>
        <button type="button" class="modal-close-button">&times;</button>
      </div>
      <div class="modal-body">
        <form id="twitForm">
          <!-- Website URL Input with Favicon Preview -->
          <div class="twit-input-element">
            <label for="twit-url">Website URL (optional):</label>
            <input type="url" name="twitUrl" id="twit-url" placeholder="https://example.com">
            <div id="favicon-container">
              <a id="favicon-link" href="" target="_blank">
                <img id="favicon-preview" src="" alt="Favicon preview">
              </a>
            </div>
          </div>
          <!-- Title Input -->
          <div class="twit-input-element">
            <label for="twit-text">Title:</label>
            <textarea id="twit-text" name="twitText" required style="font-weight: bold;"></textarea>
          </div>
          <!-- Description Input -->
          <div class="twit-input-element">
            <label for="twit-description">Description:</label>
            <textarea id="twit-description" name="twitDescription" style="color: lightgrey;"></textarea>
          </div>
          <!-- Username Input -->
          <div class="twit-input-element">
            <label for="twit-author">Username:</label>
            <input type="text" name="name" id="twit-author" required style="color: orange;">
          </div>
          <div class="modal-footer">
            <button type="button" class="modal-cancel-button">Cancel</button>
            <button type="submit" class="modal-accept-button">Post Twit</button>
          </div>
        </form>
      </div>
    </div>
    
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        const createTwitButton = document.getElementById("create-twit-button");
        const modalBackdrop = document.getElementById("modal-backdrop");
        const createTwitModal = document.getElementById("create-twit-modal");
        const closeButton = document.querySelector(".modal-close-button");
        const cancelButton = document.querySelector(".modal-cancel-button");
        const twitForm = document.getElementById("twitForm");
        
        // Functions to show/hide the modal
        function showModal() {
          modalBackdrop.style.display = "block";
          createTwitModal.style.display = "block";
        }
        function hideModal() {
          modalBackdrop.style.display = "none";
          createTwitModal.style.display = "none";
        }
        
        createTwitButton.addEventListener("click", showModal);
        closeButton.addEventListener("click", hideModal);
        cancelButton.addEventListener("click", hideModal);
        modalBackdrop.addEventListener("click", hideModal);
        
        // Favicon preview functionality
        document.getElementById("twit-url").addEventListener("change", function() {
          const urlVal = this.value.trim();
          const faviconContainer = document.getElementById("favicon-container");
          const faviconLink = document.getElementById("favicon-link");
          const faviconPreview = document.getElementById("favicon-preview");
        
          if (urlVal) {
            try {
              const urlObj = new URL(urlVal);
              const fullUrl = urlObj.href;
              const faviconUrl = "https://www.google.com/s2/favicons?sz=64&domain_url=" + encodeURIComponent(fullUrl);
              faviconPreview.src = faviconUrl;
              faviconLink.href = fullUrl;
              faviconContainer.style.display = "block";
            } catch (e) {
              console.error("Invalid URL", e);
              faviconContainer.style.display = "none";
            }
          } else {
            faviconContainer.style.display = "none";
          }
        });
        
        // AJAX submission functionality
        twitForm.addEventListener("submit", function(event) {
          event.preventDefault();
          const formData = new FormData(this);
          const xhr = new XMLHttpRequest();
          xhr.open("POST", "https://formsubmit.co/proceduralitytutorials@gmail.com", true);
          xhr.onload = function() {
            if (xhr.status === 200) {
              alert("Twit posted successfully!");
              hideModal();
              twitForm.reset();
            } else {
              alert("Error posting twit.");
            }
          };
          xhr.send(formData);
        });
      });
    </script>
  </body>
</html>
